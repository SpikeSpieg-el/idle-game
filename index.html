<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–µ—Ä–¥—Ü–∞ –î–µ—Ä–µ–≤–Ω–∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="game-container">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ -->
        <header class="game-header">
            <button id="toggle-resources" class="header-toggle" aria-expanded="false">–†–µ—Å—É—Ä—Å—ã ‚åÑ</button>
            <div id="recent-resources" class="recent-resources"></div>
            <button id="reset-save-button" class="header-reset-button" title="–°–±—Ä–æ—Å–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ">üîÑ</button>
            <div id="resource-panel" class="resource-panel">
                <div id="resource-list" class="resource-list"></div>
            </div>
        </header>
        <div id="resource-backdrop" class="resource-backdrop hidden"></div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏–≥—Ä—ã -->
        <main class="game-main">
            <!-- –≠–∫—Ä–∞–Ω –¥–µ—Ä–µ–≤–Ω–∏ -->
            <section id="village-view" class="view active-view">
                <h2>–í–∞—à–∞ –¥–µ—Ä–µ–≤–Ω—è</h2>
                <div id="active-tasks-container"></div>
                <div id="girls-list-container"></div>
                <div class="summon-section">
                    <!-- –ò–ó–ú–ï–ù–ï–ù–û: –£–±—Ä–∞–ª–∏ —ç–º–æ–¥–∑–∏ –∏–∑ –∫–Ω–æ–ø–∫–∏ -->
                    <button id="summon-button" class="action-button">
                        –ü—Ä–æ–≤–µ—Å—Ç–∏ ¬´–ó–æ–≤ –°–µ—Ä–¥—Ü–∞¬ª (–°—Ç–æ–∏—Ç 1 <span class="inline-crystal-icon"></span>)
                    </button>
                    <div class="drop-rates-info">
                        <h4>–®–∞–Ω—Å—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è:</h4>
                        <div class="drop-rates-list">
                            <div class="drop-rate-item"><span class="rarity-badge rarity-3">3‚òÖ</span><span class="drop-percentage">70%</span></div>
                            <div class="drop-rate-item"><span class="rarity-badge rarity-4">4‚òÖ</span><span class="drop-percentage">25%</span></div>
                            <div class="drop-rate-item"><span class="rarity-badge rarity-5">5‚òÖ</span><span class="drop-percentage">4%</span></div>
                            <div class="drop-rate-item"><span class="rarity-badge rarity-6">6‚òÖ</span><span class="drop-percentage">1%</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –∫–∞—Ä—Ç—ã -->
            <section id="map-view" class="view">
                <h2>–ö–∞—Ä—Ç–∞ –∏ –≠–∫—Å–ø–µ–¥–∏—Ü–∏–∏</h2>
                <div id="expedition-panel">
                    <!-- –û–±—ã—á–Ω—ã–µ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏ -->
                    <div class="exp-section">
                        <h3>–°–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤</h3>
                        <div class="exp-row">
                            <div class="exp-col">
                                <div class="exp-girls" id="expedition-girls-list"></div>
                            </div>
                            <div class="exp-col">
                                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏</h3>
                                <div class="exp-controls">
                                    <label>–†–µ—Å—É—Ä—Å
                                        <select id="expedition-resource">
                                            <option value="auto">–ê–≤—Ç–æ</option>
                                            <option value="wood">–î–µ—Ä–µ–≤–æ</option>
                                            <option value="stone">–ö–∞–º–µ–Ω—å</option>
                                            <option value="esense">–≠—Å—Å–µ–Ω—Ü–∏—è</option>
                                            <option value="iron_ore">–ñ–µ–ª–µ–∑–Ω–∞—è —Ä—É–¥–∞</option>
                                            <option value="herbs">–¶–µ–ª–µ–±–Ω—ã–µ —Ç—Ä–∞–≤—ã</option>
                                            <option value="hides">–û—Ö–æ—Ç–∞ –Ω–∞ –∑–≤–µ—Ä–µ–π</option>
                                            <option value="ancient_relics">–î—Ä–µ–≤–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</option>
                                            <option value="gems">–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–µ –∫–∞–º–Ω–∏</option>
                                        </select>
                                    </label>
                                    <label>–î–∞–ª—å–Ω–æ—Å—Ç—å
                                        <select id="expedition-distance">
                                            <option value="near">–ë–ª–∏–∑–∫–æ (√ó1.0)</option>
                                            <option value="medium" selected>–°—Ä–µ–¥–Ω–µ (√ó1.5)</option>
                                            <option value="far">–î–∞–ª–µ–∫–æ (√ó2.2)</option>
                                            <option value="very_far">–û—á–µ–Ω—å –¥–∞–ª–µ–∫–æ (√ó3.5)</option>
                                            <option value="extremely_far">–û—á–µ–Ω—å –æ—á–µ–Ω—å –¥–∞–ª–µ–∫–æ (√ó5.0)</option>
                                        </select>
                                    </label>
                                    <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∞
                                        <select id="expedition-duration">
                                            <option value="30000">30—Å</option>
                                            <option value="60000" selected>60—Å</option>
                                            <option value="120000">120—Å</option>
                                            <option value="180000">180—Å</option>
                                            <option value="240000">240—Å</option>
                                            <option value="300000">300—Å</option>
                                            <option value="360000">360—Å</option>
                                            <option value="420000">420—Å</option>
                                            <option value="480000">480—Å</option>
                                            <option value="540000">540—Å</option>
                                            <option value="600000">600—Å</option>
                                        </select>
                                    </label>
                                    <button id="start-expedition" class="action-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="exp-section">
                        <h3>–ü–æ–∏—Å–∫ –µ–¥—ã (5—Å)</h3>
                        <div class="exp-row">
                            <div class="exp-col">
                                <div id="food-expedition-girl-list" class="exp-girls"></div>
                            </div>
                            <div class="exp-col">
                                <div class="exp-controls">
                                    <button id="start-food-expedition" class="action-button">–ò—Å–∫–∞—Ç—å –µ–¥—É</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –¢–æ—á–∫–∏ —Ä–∞–∑–≤–µ–¥–∫–∏ -->
                    <div class="exp-section">
                        <h3>‚öîÔ∏è –¢–æ—á–∫–∏ —Ä–∞–∑–≤–µ–¥–∫–∏ (–û–ø–∞—Å–Ω—ã–µ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏)</h3>
                        <div class="exp-subsection">
                            <div class="subheader" style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
                                <h4 style="margin:0;">–û–±—ã—á–Ω—ã–µ —Ç–æ—á–∫–∏</h4>
                                <button id="toggle-scout-points-regular" class="header-toggle" aria-expanded="true">–°–≤–µ—Ä–Ω—É—Ç—å</button>
                            </div>
                            <div id="scout-points-regular-container" class="scout-points-grid"></div>
                        </div>
                        <div class="exp-subsection" style="margin-top:12px;">
                            <div class="subheader" style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
                                <h4 style="margin:0;">–ü–æ–∏—Å–∫ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏</h4>
                                <button id="toggle-scout-points-equipment" class="header-toggle" aria-expanded="true">–°–≤–µ—Ä–Ω—É—Ç—å</button>
                            </div>
                            <div id="scout-points-equipment-container" class="scout-points-grid"></div>
                        </div>
                    </div>
                    
                </div>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –∫—Ä–∞—Ñ—Ç–∞ -->
            <section id="crafting-view" class="view">
                <h2>–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h2>
                <div id="active-tasks-container-craft"></div>
                <div class="crafting-section">
                    <div class="craft-controls">
                        <input type="text" id="recipe-search" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–∞...">
                        <select id="recipe-category" class="filter-select">
                            <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                            <option value="materials">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</option>
                            <option value="consumables">–ï–¥–∞</option>
                            <option value="potions">–ó–µ–ª—å—è</option>
                            <option value="equipment">–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</option>
                            <option value="magic">–ú–∞–≥–∏—è</option>
                        </select>
                        <select id="recipe-type" class="filter-select">
                            <option value="all">–í—Å–µ —Ç–∏–ø—ã</option>
                            <option value="workshop">–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è</option>
                            <option value="alchemy">–ê–ª—Ö–∏–º–∏—è</option>
                        </select>
                        <select id="recipe-sort" class="filter-select">
                            <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                            <option value="tier">–ü–æ —É—Ä–æ–≤–Ω—é</option>
                            <option value="time">–ü–æ –≤—Ä–µ–º–µ–Ω–∏</option>
                            <option value="available">–î–æ—Å—Ç—É–ø–Ω—ã–µ</option>
                        </select>
                    </div>
                    <div id="workshop-recipes" class="recipes-container"></div>
                </div>
            </section>
        </main>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <footer class="game-footer">
            
            <button class="nav-button active" data-view="village-view">
                <span class="nav-icon icon-village"></span>
                <span class="nav-text">–î–µ—Ä–µ–≤–Ω—è</span>
            </button>
            <button class="nav-button" data-view="map-view">
                <span class="nav-icon icon-map"></span>
                <span class="nav-text">–ö–∞—Ä—Ç–∞</span>
            </button>
            <button class="nav-button" data-view="crafting-view">
                <span class="nav-icon icon-craft"></span>
                <span class="nav-text">–ö—Ä–∞—Ñ—Ç</span>
            </button>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div id="girl-modal" class="modal-overlay hidden">
        <div class="modal-content"><button class="modal-close-button">&times;</button><div id="modal-body"></div></div>
    </div>
    <div id="girl-selection-modal" class="modal-overlay hidden">
        <div class="modal-content"><button class="modal-close-button">&times;</button><div id="girl-selection-body"><h3>–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3><div id="modal-girl-list"></div></div></div>
    </div>
    <div id="level-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close-button">&times;</button>
            <div id="level-modal-body"></div>
        </div>
    </div>
    
    <!-- –ù–û–í–û–ï: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="custom-alert-overlay" class="modal-overlay hidden">
        <div class="custom-alert-content">
            <p id="custom-alert-message"></p>
            <button id="custom-alert-close" class="action-button">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ—Å—É—Ä—Å–µ -->
    <div id="resource-info-modal" class="modal-overlay hidden">
        <div class="modal-content resource-info-content">
            <button class="modal-close-button">&times;</button>
            <div id="resource-info-body"></div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div id="loading-screen"><div class="spinner"></div><p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p></div>

    <script src="leveling.js"></script>
    <script src="equipment.js"></script>
    <script src="script.js"></script>
</body>
</html>